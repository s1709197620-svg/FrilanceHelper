print("=== Анализатор личного бюджета ===")
print("Поможет оценить, куда и как уходят деньги, сколько ты можешь откладывать.\n")

# Ввод зарплаты
salary = float(input("Введи свою зарплату за месяц (в рублях): "))

if salary <= 0:
    print("Зарплата должна быть больше нуля. Перезапусти программу и введи реальные данные.")
else:
    print("\nСначала введём ОБЯЗАТЕЛЬНЫЕ расходы (то, без чего нельзя жить).")

    rent = float(input("Жильё (аренда / ипотека): "))
    utilities = float(input("Коммуналка (свет, вода, интернет): "))
    food = float(input("Еда: "))
    pets = float(input("Животные: "))
    health = float(input("Здоровье, аптека: "))
    transport = float(input("Транспорт, такси: "))
    loans = float(input("Кредиты / рассрочки / долги: "))

    print("\nТеперь НЕОБЯЗАТЕЛЬНЫЕ расходы (то, без чего теоретически можно обойтись).")

    fun = float(input("Развлечения (кафе, кино, гулянки): "))
    shopping = float(input("Покупки для себя (одежда, косметика и т.п.): "))
    subscriptions = float(input("Подписки (кино, музыка, игры и т.п.): "))
    other = float(input("Прочие траты: "))

    # Считаем суммы
    mandatory = rent + utilities + food + transport + loans
    optional = fun + shopping + subscriptions + other
    total_expenses = mandatory + optional
    leftover = salary - total_expenses

    print("\n=== Итоги по месяцу ===")
    print(f"Обязательные расходы: {mandatory:.2f} руб.")
    print(f"Необязательные расходы: {optional:.2f} руб.")
    print(f"Всего расходов: {total_expenses:.2f} руб.")
    print(f"Остаток после всех трат: {leftover:.2f} руб.")

    # Защита от деления на ноль (на всякий случай)
    if salary > 0:
        rent_percent = rent / salary * 100
        food_percent = food / salary * 100
        fun_percent = fun / salary * 100
        loans_percent = loans / salary * 100
        savings_percent = leftover / salary * 100
    else:
        rent_percent = food_percent = fun_percent = loans_percent = savings_percent = 0

    print("\n=== Проценты от зарплаты ===")
    print(f"Жильё: {rent_percent:.1f}% от зарплаты")
    print(f"Еда: {food_percent:.1f}% от зарплаты")
    print(f"Развлечения: {fun_percent:.1f}% от зарплаты")
    print(f"Кредиты и долги: {loans_percent:.1f}% от зарплаты")
    print(f"Потенциальные сбережения: {savings_percent:.1f}% от зарплаты")

    # Оценка общего состояния
    print("\n=== Оценка финансового состояния ===")
    if leftover < 0:
        print("Ты уходишь в минус. Срочно нужно резать расходы или увеличивать доход.")
    elif leftover == 0:
        print("Ты живёшь в ноль. Любой неожиданный расход загонит в минус.")
    elif savings_percent < 5:
        print("Очень хрупкая ситуация. Откладывается совсем мало, подушка безопасности совсем не растёт.")
    elif savings_percent < 15:
        print("Нормально, но запас небольшой. Подушка будет расти медленно.")
    elif savings_percent < 30:
        print("Хорошо! Ты можешь откладывать заметную часть дохода.")
    else:
        print("Отлично! Ты откладываешь очень много, это сильная позиция.")

    # Рекомендации по категориям
    print("\n=== Рекомендации ===")

    if rent_percent > 40:
        print("- Жильё съедает слишком много (больше 40% зарплаты). Можно подумать о более дешёвом варианте.")
    else:
        print("- Расходы на жильё в разумных пределах.")

    if food_percent > 30:
        print("- На еду уходит больше 30% зарплаты. Возможно, есть смысл пересмотреть покупки и питание, может готовить дома.")
    else:
        print("- Расходы на еду выглядят хорошо.")

    if fun_percent > 20:
        print("- Очень много уходит на развлечения. Если хочется больше копить, резать можно тут.")
    else:
        print("- Развлечения не слишком перегружают бюджет.")

    if loans_percent > 30:
        print("- Высокая долговая нагрузка (кредиты/рассрочки). Лучше не брать новые долги и быстрее закрывать старые.")
    elif loans_percent > 0:
        print("- Кредиты есть, но не критично. Главное – не набирать новые.")
    else:
        print("- Кредитов нет. Это большой плюс!")

    if leftover <= 0:
        print("\nСейчас копить нечего. Главная цель – выйти хотя бы в небольшой плюс.")
    else:
        print("\nТы в плюсе. Можно поставить себе цель по накоплениям и постепенно её увеличивать.")
print("\nСпасибо, что воспользовался анализатором! Возвращайся, когда появятся новые данные :)")